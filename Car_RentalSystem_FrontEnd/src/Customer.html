<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Customer</title>
    <meta content="width=device-width, initial-scale=1" name="viewport">
    <link href="https://fonts.googleapis.com" rel="preconnect">
    <link crossorigin href="https://fonts.gstatic.com" rel="preconnect">
    <link href="https://fonts.googleapis.com/css2?family=Crete+Round&display=swap" rel="stylesheet">
    <script crossorigin="anonymous"
            integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
            src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <link href="assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <script crossorigin="anonymous" src="https://kit.fontawesome.com/987b695cdd.js"></script>

    <style>
        body {
           background-color:#1e2125 ;

        }
        .navbar {
            background-color: #030405;
            color: #0f32a5;
        }

        #txtnav {
            position: relative;
            text-align: center;
            left: 700px;
            font-family: 'Crete Round', serif;
            font-weight: bold;

        }

        #navimage {
            width: 86px;
            height: 66px;
        }

        #navimage:hover {
            width: 88px;
            height: 68px;
            cursor: pointer;
        }

        #topnaw {
            position: relative;
            height: 62px;
        }


        #customercontent {
            width: 82%;
            position: relative;
            left: 13%;
        }

        #detailsCustomer {
            font-family: 'Crete Round', serif;
            font-weight: bold;
            color: #20c997;
            position: relative;
        }

        #paymentCustomer {
            font-family: 'Crete Round', serif;
            font-weight: bold;
            color: #20c997;
            position: relative;
        }

        #customerPayment {
            width: 82%;
            position: relative;
            left: 13%;
        }

        #paymentbtn  {
            position: relative;
            right: 6%;
        }

        #customerbtn {
            position: relative;
            right: 6%;
        }


    </style>
</head>
<body>
<!--start top naw bar section-->

<div id="content">
    <div class="top-navbar">
        <nav class="navbar navbar-expand-lg">
            <div class="container-fluid" id="topnaw">
                <h1 id="txtnav">Book Now</h1>
                <img alt="" id="navimage" src="assets/image/logout.png">
            </div>
        </nav>
    </div>
</div>

<!--End top naw bar section-->

<h1 id="detailsCustomer">Customer Details</h1>

<div class="col-md-auto">
    <div class="card col-12 mx-1">
        <form class="card-body" id="customerForm">
            <div class="form-group col-5 d-inline-block mx-3">
                <label class="form-label" for="CustomerInputID" id="CustomerIDBtn">Customer_ID :</label>
                <input aria-describedby="orderId"
                       class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id="CustomerInputID" name="cus_ID" type="text">
            </div>

            <div class="form-group col-5 d-inline-block m-lg-2">
                <label class="form-label" for="CustomerInputName" id="CustomerNameBtn">Full Name :</label>
                <input aria-describedby="orderDate"
                       class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id="CustomerInputName" name="name" type="text">
            </div>

            <div class="mx-3 mt-2 col-5 d-inline-block">
                <label class="form-label" for="exampleInputAddress" id="CustomerNicNoBtn">Nic_No :</label>
                <input aria-describedby="orderDate"
                       class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id="exampleInputAddress" name="nic_no" type="text">
            </div>

            <!--<div class="mx-3 mt-2 col-5 d-inline-block">
                <label class="form-label" for="exampleInputAddress" id="CustomerNicNoBtn">Nic_No :</label>
                <select class="form-select btn-outline-primary bg-light bg-opacity-50 text-dark"
                        id="exampleInputAddress" type="">
                </select>
            </div>-->

            <div class="form-group col-5 d-inline-block m-lg-2 mx-3">
                <label class="form-label" for="txtMObileNumber" id="CustomerAddressBtn">Address :</label>
                <input class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id="txtMObileNumber" name="address"
                       type="text">
            </div>

            <div class="form-group col-5 d-inline-block mx-3">
                <label class="form-label" for="txtPassword" id="CustomerMobileNumBtn">Mobile Number :</label>
                <input aria-describedby="orderId"
                       class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id="txtPassword" name="mobile_num" type="text">
            </div>

            <div class="form-group col-5 d-inline-block m-lg-2 mx-3">
                <label class="form-label" for="txtAdminEmail" id="CustomerEmailBtn">Email :</label>
                <input class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark" id="txtAdminEmail"
                     name="email"  type="text">
            </div>

            <!--<div class="form-group col-11 d-inline-block mx-lg-3 m-lg-1">
                <label class="form-label" for="formFile" id="CustomerImageImg">Customer Image :</label>
                <input class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark" id="formFile"
                       type="file">
            </div>-->
        </form>
    </div>
</div>
<br><br>
<div class="d-grid gap-2 d-md-flex justify-content-md-end" id="customerbtn">
    <button class="btn btn-outline-danger" id="btnaddCustomer" type="button">Add</button>
    <button class="btn btn-outline-info" id="btnclearCustomer" type="button">Clear</button>
</div>
<br>
<br>

<h1 id="paymentCustomer">Payment Details</h1>

<div class="col-md-auto">
    <div class="card col-12 mx-1">
        <div class="card-body" id="customerPayment">
            <form class="form-group col-5 d-inline-block mx-3" id="customerforms">
                <label class="form-label" for="paymentInputID" id="PaymentIDBtn">Card Number:</label>
                <input aria-describedby="orderId"
                       class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id="paymentInputID" type="text">
            </form>

            <div class="form-group col-5 d-inline-block m-lg-2">
                <label class="form-label" for="PaymentInputName" id="paymentNameBtn">Name On Card :</label>
                <input aria-describedby="orderDate"
                       class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id=PaymentInputName type="text">
            </div>

            <div class="mx-3 mt-2 col-5 d-inline-block">
                <label class="form-label" for="paymentInputcvv" id="paymentNicNoBtn">CVV :</label>
                <select class="form-select btn-outline-primary bg-light bg-opacity-50 text-dark"
                        id="paymentInputcvv" type="text">
                </select>
            </div>

            <div class="form-group col-5 d-inline-block m-lg-2 mx-3">
                <label class="form-label" for="paymentexpiredate" id="paymentExpiryDate">Expiry Date :</label>
                <input class="form-control btn-outline-primary bg-light bg-opacity-50 text-dark"
                       id="paymentexpiredate"
                       type="date">
            </div>
        </div>
    </div>
</div>
<br><br>
<div class="d-grid gap-2 d-md-flex justify-content-md-end" id="paymentbtn">
    <button class="btn btn-outline-danger" id="paymentaddbtn" type="button">Payment</button>
    <button class="btn btn-outline-info" id="paymentClearbtn" type="button">Clear</button>
</div>
<br>
<br>
<!--<script crossorigin="anonymous"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        src="assets/bootstrap/js/bootstrap.bundle.min.js"></script>-->
<script src="assets/jQuery/jquery-3.6.0.min.js"></script>
<!--<script src="controller/CustomerController.js"></script>-->
<script>
   /* $("#CustomerIDBtn").prop('disabled', true);*/

    const baseUrl = "http://localhost:8080/Car_Rental_System_war/api/customer";

    $("#btnaddCustomer").click(function () {
        saveCustomer();
    });


   $("#btnclearCustomer").click(function () {
       clearForm();
   });

   loadAllCustomer();

    /*
    save customer*/
    function saveCustomer() {
        var data = $("#customerForm").serialize();
        $.ajax({
            url: baseUrl,
            method: "POST",
            data: data,
            success: function (res) {
                if (res.code == 200) {
                    alert("Successfully Customer Registered..");
                }
            },
            error: function (ob) {
                alert("wrong");
            }
        });
    }

   function loadAllCustomer() {
       $("#customerBodytbl").empty();
       $.ajax({
           url: baseUrl,
           method: "GET",
           success: function (response) {
               for (const customers of response.data) {
                   let row = `<tr><td>${customers.cus_ID}</td><td>${customers.name}</td><td>${customers.nic_no}</td><td>${customers.address}</td><td>${customers.mobile_num}</td><td>${customers.email}</td></tr>`;
                   $("#customerBodytbl").append(row);
               }
               bindClickEventsVehical();
           },
           error: function (ob) {
               alert(ob.responseJSON.message);
           }
       });
   }


    /*
    clear customer input field*/

    function clearForm() {
        $("#CustomerInputID").val("");
        $("#CustomerInputName").val("");
        $("#exampleInputAddress").val("");
        $("#txtMObileNumber").val("");
        $("#txtPassword").val("");
        $("#txtAdminEmail").val("");
    }
</script>
</body>
</html>